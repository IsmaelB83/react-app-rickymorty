(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/spinner.f0d26039.gif"},function(e,t,a){e.exports=a(26)},,,,,,function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(9),i=a.n(s),c=(a(19),a(1)),o=a.n(c),l=a(7),p=a(2),u=a(3),m=a(5),h=a(4),d=a(6),g=a(10),f=(a(22),function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={name:"",status:"",species:"",gender:""},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"form-cards"},r.a.createElement("p",null,"Criterios de filtrado"),r.a.createElement("input",{name:"name",placeholder:"filter by name...",onChange:this.formEventListener.bind(this)}),r.a.createElement("select",{name:"status",defaultValue:"",onChange:this.formEventListener.bind(this)},r.a.createElement("option",{value:"",disabled:!0,hidden:!0},"filter by status..."),r.a.createElement("option",{value:"dead"},"Dead"),r.a.createElement("option",{value:"alive"},"Alive"),r.a.createElement("option",{value:"unknown"},"Unknown")),r.a.createElement("input",{name:"species",placeholder:"filter by species...",onChange:this.formEventListener.bind(this)}),r.a.createElement("select",{name:"gender",defaultValue:"",onChange:this.formEventListener.bind(this)},r.a.createElement("option",{value:"",disabled:!0,hidden:!0},"filter by gender..."),r.a.createElement("option",{value:"female"},"Female"),r.a.createElement("option",{value:"male"},"Male"),r.a.createElement("option",{value:"genderless"},"Genderless"),r.a.createElement("option",{value:"unknown"},"Unknown")))}},{key:"formEventListener",value:function(){var e=Object(l.a)(o.a.mark(function e(t){var a,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.name,n=t.target.value,e.next=4,this.setState(Object(g.a)({},a,n));case 4:this.props.onFilter();case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}(n.Component)),v=(a(23),function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={page:a.props.page,pages:a.props.pages},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"card-container-footer"},r.a.createElement("button",{name:"prev",onClick:this.props.onClick},"Anterior"),r.a.createElement("h3",null,"Pagina ",this.state.page," de ",this.state.pages),r.a.createElement("button",{name:"next",onClick:this.props.onClick},"Siguiente"))}},{key:"changeStatus",value:function(e){this.setState(e)}}]),t}(n.Component)),E=a(11),b=a.n(E),k=(a(24),function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={status:a.props.status,species:a.props.species,gender:a.props.gender,origin:a.props.origin,last:a.props.last,image:a.props.image},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-image"},r.a.createElement("img",{src:this.state.image,alt:"character"}),r.a.createElement("div",{className:"card-title"},r.a.createElement("h1",null,this.props.name),r.a.createElement("p",null,r.a.createElement("span",null,"id: ",this.props.id)," - ",r.a.createElement("span",null,b.a.ago(this.props.created))))),r.a.createElement("div",{className:"card-body"},r.a.createElement("p",null,r.a.createElement("span",null,"Status"),r.a.createElement("span",null,this.state.status)),r.a.createElement("p",null,r.a.createElement("span",null,"Species"),r.a.createElement("span",null,this.state.species)),r.a.createElement("p",null,r.a.createElement("span",null,"Gender"),r.a.createElement("span",null,this.state.gender)),r.a.createElement("p",null,r.a.createElement("span",null,"Origin"),r.a.createElement("span",null,this.state.origin)),r.a.createElement("p",null,r.a.createElement("span",null,"Last Location"),r.a.createElement("span",null,this.state.last))))}}]),t}(n.Component)),C=(a(25),a(12)),y=a.n(C),j=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).pageCompTop=r.a.createRef(),a.pageCompBottom=r.a.createRef(),a.formComp=r.a.createRef(),a.state={loading:!0,characters:[]},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(f,{ref:this.formComp,onFilter:this.filterEventHandler.bind(this)}),r.a.createElement(v,{ref:this.pageCompTop,page:this.state.page,pages:this.state.pages,onClick:this.paginatorEventHandler.bind(this)}),r.a.createElement("div",{className:"card-container"},this.state.loading&&r.a.createElement("div",{className:"card-container"},r.a.createElement("div",null,r.a.createElement("img",{src:y.a,alt:"loading..."}),r.a.createElement("h2",null,"Loading data..."))),!this.state.loading&&this.state.characters.length>0&&this.state.characters.map(function(e,t){return r.a.createElement(k,{key:e.id,id:e.id,name:e.name,status:e.status,created:e.created,image:e.image,species:e.species,gender:e.gender,origin:e.origin.name,last:e.location.name})}),!this.state.loading&&0===this.state.characters.length&&r.a.createElement("h1",null,"No hay resultados para los filtros indicados")),r.a.createElement(v,{ref:this.pageCompBottom,page:this.state.page,pages:this.state.pages,onClick:this.paginatorEventHandler.bind(this)}))}},{key:"componentDidMount",value:function(){this.retrieveCharacters("https://rickandmortyapi.com/api/character/")}},{key:"retrieveCharacters",value:function(){var e=Object(l.a)(o.a.mark(function e(t){var a,n,r,s;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=new URL(t),e.next=4,fetch(a);case 4:if(200!==(r=e.sent).status){e.next=11;break}return e.next=8,r.json();case 8:n=e.sent,e.next=13;break;case 11:console.log("404"),n={results:[],info:{next:"",prev:"",page:"1",pages:"1"}};case 13:this.setState({characters:n.results,loading:!1,next:n.info.next,prev:n.info.prev,page:a.searchParams.get("page")?a.searchParams.get("page"):"1",pages:n.info.pages}),s={page:this.state.page,pages:this.state.pages},this.pageCompTop.current.changeStatus(s),this.pageCompBottom.current.changeStatus(s),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0);case 22:case"end":return e.stop()}},e,this,[[0,19]])}));return function(t){return e.apply(this,arguments)}}()},{key:"paginatorEventHandler",value:function(){var e=Object(l.a)(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""===(a="next"===t.target.name?this.state.next:this.state.prev)){e.next=5;break}return e.next=5,this.retrieveCharacters(a);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"filterEventHandler",value:function(){var e=Object(l.a)(o.a.mark(function e(){var t,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t="https://rickandmortyapi.com/api/character/?",""!==(a=this.formComp.current.state).name&&(t+="name=".concat(a.name)),""!==a.status&&(t+="&status=".concat(a.status)),""!==a.species&&(t+="&species=".concat(a.species)),""!==a.gender&&(t+="&gender=".concat(a.gender)),e.next=9,this.retrieveCharacters(t);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var O=r.a.createElement(j,null);i.a.render(O,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[13,1,2]]]);
//# sourceMappingURL=main.e5b23de1.chunk.js.map